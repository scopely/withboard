<template name="Settings">
  <table>
    <thead>
      <tr>
        <th>Setting</th>
        <th>Type</th>
        {{#if settable}}
          <th>Value</th>
        {{/if}}
      </tr>
    </thead>

    <tbody>
      {{#each settings}}
        <tr>
          <td><abbr title="{{key}}">{{label}}</abbr></td>
          <td>{{type}}</td>
          {{#if ../settable}}
            <td>{{> Template.dynamic template=settingTmpl}}</td>
          {{/if}}
        </tr>
      {{/each}}
    </tbody>
  </table>
</template>

<template name="SecretSettingValue">
  <input type="password" value="{{value}}" {{extras}}>
</template>

<template name="StringSettingValue">
  <input type="text" value="{{value}}" {{extras}}>
</template>

<template name="UserIdSettingValue">
  <select {{extras}} class="browser-default">
    <option disabled selected value="">Select a user</option>
    {{#each users}}
      <option value={{_id}}>{{profile.name}}</option>
    {{/each}}
  </select>
</template>

<template name="UrlSettingValue">
  <input type="text" value="{{value}}" {{extras}}>
</template>

<template name="ScreenIdSettingValue">
  <select name="view" class="browser-default" {{extras}}>
    <option value="" disabled selected>Select a view</option>
    {{#each modules}}
      <optgroup label={{name}}>
        {{#each views}}
          <option value={{_id}} selected={{eq _id currentView}}>{{name}}</option>
        {{/each}}
      </optgroup>
    {{/each}}
  </select>

  {{#if currentView}}
    <select name="screen" class="browser-default" {{extras}}>
      <option value="" disabled selected>Select a screen</option>
      {{#each screens}}
        <option value={{_id}} selected={{eq _id ../value}}>{{name}}</option>
      {{else}}
        <option value="" disabled selected>No screens created yet</option>
      {{/each}}
    </select>
  {{/if}}
</template>
