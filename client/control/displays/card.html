<template name="DisplayCard">
  <div class="card {{displayColor}}">
    {{#if token}}
      <div class="card-content black-text">
        <span class="card-title black-text">
          {{name}}
        </span>

        {{> ControlAssignDisplay}}

        {{#if platformIs 'chromecast'}}
          <div class="chip" style="margin-top: 0.5em;">
            Chromecast
            <i class="close material-icons">cast</i>
          </div>
        {{/if}}

        {{#if platformIs 'chrome app'}}
          <div class="chip" style="margin-top: 0.5em;">
            App v{{status.app.version}}
          </div>
        {{/if}}

        {{#with status.platformInfo}}
          <div class="chip" style="margin-top: 0.5em;">
            {{os}} {{arch}}
          </div>
        {{/with}}

        {{#if status.restartRequired}}
          <div class="chip" style="margin-top: 0.5em;">
            Restart for {{status.restartRequired}}
            <i class="close material-icons">system_update_alt</i>
          </div>
        {{/if}}

        {{#if status.screenSize}}
          <div class="chip" style="margin-top: 0.5em;">
            {{status.screenSize.width}}Ã—{{status.screenSize.height}}
          </div>
        {{/if}}

        {{#if latestIp}}
          <div class="chip" style="margin-top: 0.5em;">
            {{latestIp}}
          </div>
        {{/if}}

        <div class="action-bar">
          <a class="rename" href="#"><i class="material-icons">mode_edit</i></a>

          {{#if canReboot}}
            <a class="reboot" href="#"><i class="material-icons">power_settings_new</i></a>
          {{/if}}

          {{#if config.hardware.fourUp}}
            <a class="unFourUp" href="#"><i class="material-icons">grid_off</i></a>
          {{else}}
            {{#if can4up}}
              <a class="fourUp" href="#"><i class="material-icons">grid_on</i></a>
            {{/if}}
          {{/if}}

          <a class="delete" href="#"><i class="material-icons">delete</i></a>
        </div>
      </div>
    {{else}}
      <div class="card-content black-text">
        <div style="padding: 0 0.5em; float: right; display: flex; flex-direction: column;">
          <a class="pair waves-effect btn" href="#" style="margin-bottom: 1em;">
            <i class="material-icons left">add</i>pair
          </a>
          <a class="swap waves-effect btn" href="/assign/swap/{{_id}}">
            <i class="material-icons left">swap_horiz</i>swap
          </a>
        </div>
        <span class="card-title black-text">New Display</span>
        <p style="font-size: 120%;">
          <strong>Code</strong> <code>{{_id}}</code>
        </p>
        <p>
          <strong>IP</strong> <code>{{firstIp}}</code>
        </p>
      </div>
    {{/if}}
  </div>
</template>
